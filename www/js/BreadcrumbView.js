// Generated by CoffeeScript 1.4.0
(function() {

  LOAF.BreadcrumbView = Backbone.View.extend({
    initHistory: function(options) {
      if (!options) {
        options = {};
      }
      this.history = options.history ? options.history : [];
      if (options.caller) {
        options.caller.id = this.history.length;
      }
      return this.history.push(options.caller);
    },
    renderHistory: function() {
      var list, templateValues,
        _this = this;
      templateValues = {
        historyItems: this.history,
        currentTitle: this.title
      };
      list = Mustache.render($(".template.history-list").html(), templateValues);
      this.$(".bcrumbs-path").html(list);
      return this.$(".history-link").click(function(e) {
        return _this._onHistoryClick(e);
      });
    },
    _onHistoryClick: function(e) {
      var viewToShow;
      e.preventDefault();
      this.$el.hide();
      viewToShow = this.history[e.currentTarget.dataset.id].view;
      return viewToShow.$el.show();
    }
  });

  LOAF.HistoryItem = (function() {

    function HistoryItem(options) {
      this.view = options.view;
      this.title = options.title;
    }

    return HistoryItem;

  })();

}).call(this);
