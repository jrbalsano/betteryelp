// Generated by CoffeeScript 1.4.0
(function() {

  LOAF.CustomList = Backbone.Collection.extend({
    initialize: function(models, options) {
      options = options ? options : {};
      this.name = options.name;
      this.isAllCrumbs = options.isAllCrumbs || false;
      this.id = options.id;
      this.on("add", this.onAdd, this);
      return this.on("remove", this.onRemove, this);
    },
    model: LOAF.Business,
    onAdd: function(business) {
      business.addList(this);
      console.log("added " + business.attributes.id + " to " + this.name);
      return LOAF.appView.saveApplication();
    },
    onRemove: function(business) {
      business.removeList(this);
      console.log("removed " + business.attributes.id + " from " + this.name);
      return LOAF.appView.saveApplication();
    },
    search: function(term) {
      return this.filter(function(model) {
        return model.search(term);
      });
    },
    toJSON: function() {
      var object;
      return object = {
        models: Backbone.Collection.prototype.toJSON.call(this),
        name: this.name,
        isAllCrumbs: this.isAllCrumbs,
        id: this.id
      };
    }
  });

}).call(this);
