// Generated by CoffeeScript 1.4.0
(function() {

  LOAF.Business = Backbone.Model.extend({
    listIds: [],
    addList: function(list) {
      if (!_.contains(this.listIds, list.id)) {
        this.listIds.push(list.id);
        return this.trigger("change", this.listIds);
      }
    },
    removeList: function(list) {
      this.listIds = _.without(this.listIds, list.id);
      return this.trigger("change", this.listIds);
    },
    search: function(term) {
      term = term.toUpperCase();
      return _.some(this.attributes, function(value, key) {
        switch (key) {
          case "name":
            return value.toUpperCase().indexOf(term) >= 0;
          case "categories":
            return _.some(value, function(cat) {
              return cat[0].toUpperCase().indexOf(term) >= 0;
            });
          default:
            return false;
        }
      });
    }
  });

}).call(this);
