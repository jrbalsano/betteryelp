// Generated by CoffeeScript 1.4.0
(function() {

  LOAF.ApiView = Backbone.View.extend({
    initialize: function(options) {
      this.callback = options.callback;
      this.cbContext = options.cbContext;
      return this.cbParams = options.cbParams;
    },
    events: {
      "click .api-key-save": "onSave",
      "keyup .consumer-key": "verify",
      "keyup .consumer-secret": "verify",
      "keyup .access-token": "verify",
      "keyup .access-token-secret": "verify"
    },
    verify: function() {
      var accessToken, accessTokenSecret, consumerKey, consumerSecret;
      consumerKey = this.$(".consumer-key");
      consumerSecret = this.$(".consumer-secret");
      accessToken = this.$(".access-token");
      accessTokenSecret = this.$(".access-token-secret");
      if (consumerKey.val() && consumerSecret.val() && accessToken.val() && accessTokenSecret.val()) {
        return this.$(".api-key-save").removeAttr("disabled");
      } else {
        return this.$(".api-key-save").attr("disabled", "true");
      }
    },
    onSave: function(e) {
      var accessToken, accessTokenSecret, consumerKey, consumerSecret;
      e.preventDefault();
      consumerKey = this.$(".consumer-key");
      consumerSecret = this.$(".consumer-secret");
      accessToken = this.$(".access-token");
      accessTokenSecret = this.$(".access-token-secret");
      if (consumerKey.val() && consumerSecret.val() && accessToken.val() && accessTokenSecret.val()) {
        LOAF.auth.consumerKey = consumerKey.val();
        LOAF.auth.consumerSecret = consumerSecret.val();
        LOAF.auth.accessToken = accessToken.val();
        LOAF.auth.accessTokenSecret = accessTokenSecret.val();
        this.$el.hide();
        return this.callback.apply(this.cbContext, this.cbParams);
      }
    }
  });

}).call(this);
