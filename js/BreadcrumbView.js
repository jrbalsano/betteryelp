// Generated by CoffeeScript 1.4.0
(function() {

  LOAF.BreadcrumbView = Backbone.View.extend({
    initHistory: function(options) {
      if (!options) {
        options = {};
      }
      this.history = options.history ? options.history : [];
      if (options.caller) {
        options.caller.id = this.history.length;
      }
      return this.history.push(options.caller);
    },
    renderHistory: function() {
      var list,
        _this = this;
      list = Mustache.render(LOAF.templates.bcHistory, this);
      this.$(".bcrumbs-path").html(list);
      return this.$(".history-link").click(function(e) {
        return _this._onHistoryClick(e);
      });
    },
    _onHistoryClick: function(e) {
      var viewToShow;
      e.preventDefault();
      this.$el.hide();
      viewToShow = this.history[e.currentTarget.dataset.id].view;
      viewToShow.render();
      viewToShow.$el.show();
      if (viewToShow.postRender != null) {
        return viewToShow.postRender();
      }
    }
  });

  LOAF.HistoryItem = (function() {

    function HistoryItem(options) {
      this.view = options.view;
      this.title = options.title;
    }

    return HistoryItem;

  })();

}).call(this);
